{"ast":null,"code":"import _slicedToArray from\"F:\\\\lcomernbootcamp\\\\projfrontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import Base from\"../core/Base\";import{isAutheticated}from\"../auth/helper\";import{Link}from\"react-router-dom\";import{createCategory}from\"./helper/adminapicall\";var AddCategory=function AddCategory(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),success=_useState6[0],setSuccess=_useState6[1];var _isAutheticated=isAutheticated(),user=_isAutheticated.user,token=_isAutheticated.token;var goBack=function goBack(){return React.createElement(\"div\",{className:\"mt-5\"},React.createElement(Link,{className:\"btn btn-sm btn-success mb-3\",to:\"/admin/dashboard\"},\"Admin Home\"));};var handleChange=function handleChange(event){setError(\"\");setName(event.target.value);};var onSubmit=function onSubmit(event){event.preventDefault();setError(\"\");setSuccess(false);//backend request fired\ncreateCategory(user._id,token,{name:name}).then(function(data){if(data.error){setError(true);}else{setError(\"\");setSuccess(true);setName(\"\");}});};var successMessage=function successMessage(){if(success){return React.createElement(\"h4\",{className:\"text-success\"},\"Category created successfully\");}};var warningMessage=function warningMessage(){if(error){return React.createElement(\"h4\",{className:\"text-success\"},\"Failed to create category\");}};var myCategoryForm=function myCategoryForm(){return React.createElement(\"form\",null,React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"p\",{className:\"lead\"},\"Enter the category\"),React.createElement(\"input\",{type:\"text\",className:\"form-control my-3\",onChange:handleChange,value:name,autoFocus:true,required:true,placeholder:\"For Ex. Summer\"}),React.createElement(\"button\",{onClick:onSubmit,className:\"btn btn-outline-info\"},\"Create Category\")));};return React.createElement(Base,{title:\"Create a category here\",description:\"Add a new category for new tshirts\",className:\"container bg-info p-4\"},React.createElement(\"div\",{className:\"row bg-white rounded\"},React.createElement(\"div\",{className:\"col-md-8 offset-md-2\"},successMessage(),warningMessage(),myCategoryForm(),goBack())));};export default AddCategory;","map":{"version":3,"sources":["F:/lcomernbootcamp/projfrontend/src/admin/AddCategory.js"],"names":["React","useState","Base","isAutheticated","Link","createCategory","AddCategory","name","setName","error","setError","success","setSuccess","user","token","goBack","handleChange","event","target","value","onSubmit","preventDefault","_id","then","data","successMessage","warningMessage","myCategoryForm"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport Base from \"../core/Base\";\nimport { isAutheticated } from \"../auth/helper\";\nimport { Link } from \"react-router-dom\";\nimport { createCategory } from \"./helper/adminapicall\";\n\nconst AddCategory = () => {\n  const [name, setName] = useState(\"\");\n  const [error, setError] = useState(false);\n  const [success, setSuccess] = useState(false);\n\n  const { user, token } = isAutheticated();\n\n  const goBack = () => (\n    <div className=\"mt-5\">\n      <Link className=\"btn btn-sm btn-success mb-3\" to=\"/admin/dashboard\">\n        Admin Home\n      </Link>\n    </div>\n  );\n\n  const handleChange = event => {\n    setError(\"\");\n    setName(event.target.value);\n  };\n\n  const onSubmit = event => {\n    event.preventDefault();\n    setError(\"\");\n    setSuccess(false);\n\n    //backend request fired\n    createCategory(user._id, token, { name }).then(data => {\n      if (data.error) {\n        setError(true);\n      } else {\n        setError(\"\");\n        setSuccess(true);\n        setName(\"\");\n      }\n    });\n  };\n\n  const successMessage = () => {\n    if (success) {\n      return <h4 className=\"text-success\">Category created successfully</h4>;\n    }\n  };\n\n  const warningMessage = () => {\n    if (error) {\n      return <h4 className=\"text-success\">Failed to create category</h4>;\n    }\n  };\n\n  const myCategoryForm = () => (\n    <form>\n      <div className=\"form-group\">\n        <p className=\"lead\">Enter the category</p>\n        <input\n          type=\"text\"\n          className=\"form-control my-3\"\n          onChange={handleChange}\n          value={name}\n          autoFocus\n          required\n          placeholder=\"For Ex. Summer\"\n        />\n        <button onClick={onSubmit} className=\"btn btn-outline-info\">\n          Create Category\n        </button>\n      </div>\n    </form>\n  );\n\n  return (\n    <Base\n      title=\"Create a category here\"\n      description=\"Add a new category for new tshirts\"\n      className=\"container bg-info p-4\"\n    >\n      <div className=\"row bg-white rounded\">\n        <div className=\"col-md-8 offset-md-2\">\n          {successMessage()}\n          {warningMessage()}\n          {myCategoryForm()}\n          {goBack()}\n        </div>\n      </div>\n    </Base>\n  );\n};\n\nexport default AddCategory;\n"]},"metadata":{},"sourceType":"module"}