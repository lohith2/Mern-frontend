{"ast":null,"code":"import _defineProperty from\"F:\\\\lcomernbootcamp\\\\projfrontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"F:\\\\lcomernbootcamp\\\\projfrontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"F:\\\\lcomernbootcamp\\\\projfrontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import Base from\"../core/Base\";import{Link}from\"react-router-dom\";import{signup}from\"../auth/helper\";var Signup=function Signup(){var _useState=useState({name:\"\",email:\"\",password:\"\",error:\"\",success:false}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var name=values.name,email=values.email,password=values.password,error=values.error,success=values.success;var handleChange=function handleChange(name){return function(event){setValues(_objectSpread({},values,_defineProperty({error:false},name,event.target.value)));};};var onSubmit=function onSubmit(event){event.preventDefault();setValues(_objectSpread({},values,{error:false}));signup({name:name,email:email,password:password}).then(function(data){if(data.error){setValues(_objectSpread({},values,{error:data.error,success:false}));}else{setValues(_objectSpread({},values,{name:\"\",email:\"\",password:\"\",error:\"\",success:true}));}}).catch(console.log(\"Error in signup\"));};var signUpForm=function signUpForm(){return React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-md-6 offset-sm-3 text-left\"},React.createElement(\"form\",null,React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{className:\"text-light\"},\"Name\"),React.createElement(\"input\",{className:\"form-control\",onChange:handleChange(\"name\"),type:\"text\",value:name})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{className:\"text-light\"},\"Email\"),React.createElement(\"input\",{className:\"form-control\",onChange:handleChange(\"email\"),type:\"email\",value:email})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{className:\"text-light\"},\"Password\"),React.createElement(\"input\",{onChange:handleChange(\"password\"),className:\"form-control\",type:\"password\",value:password})),React.createElement(\"button\",{onClick:onSubmit,className:\"btn btn-success btn-block\"},\"Submit\"))));};var successMessage=function successMessage(){return React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-md-6 offset-sm-3 text-left\"},React.createElement(\"div\",{className:\"alert alert-success\",style:{display:success?\"\":\"none\"}},\"New account was created successfully. Please\",React.createElement(Link,{to:\"/signin\"},\"Login Here\"))));};var errorMessage=function errorMessage(){return React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-md-6 offset-sm-3 text-left\"},React.createElement(\"div\",{className:\"alert alert-danger\",style:{display:error?\"\":\"none\"}},error)));};return React.createElement(Base,{title:\"Sign up page\",description:\"A page for user to sign up!\"},successMessage(),errorMessage(),signUpForm());};export default Signup;","map":{"version":3,"sources":["F:/lcomernbootcamp/projfrontend/src/user/Signup.js"],"names":["React","useState","Base","Link","signup","Signup","name","email","password","error","success","values","setValues","handleChange","event","target","value","onSubmit","preventDefault","then","data","catch","console","log","signUpForm","successMessage","display","errorMessage"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport Base from \"../core/Base\";\nimport { Link } from \"react-router-dom\";\nimport { signup } from \"../auth/helper\";\n\nconst Signup = () => {\n  const [values, setValues] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    error: \"\",\n    success: false\n  });\n\n  const { name, email, password, error, success } = values;\n\n  const handleChange = name => event => {\n    setValues({ ...values, error: false, [name]: event.target.value });\n  };\n\n  const onSubmit = event => {\n    event.preventDefault();\n    setValues({ ...values, error: false });\n    signup({ name, email, password })\n      .then(data => {\n        if (data.error) {\n          setValues({ ...values, error: data.error, success: false });\n        } else {\n          setValues({\n            ...values,\n            name: \"\",\n            email: \"\",\n            password: \"\",\n            error: \"\",\n            success: true\n          });\n        }\n      })\n      .catch(console.log(\"Error in signup\"));\n  };\n\n  const signUpForm = () => {\n    return (\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-sm-3 text-left\">\n          <form>\n            <div className=\"form-group\">\n              <label className=\"text-light\">Name</label>\n              <input\n                className=\"form-control\"\n                onChange={handleChange(\"name\")}\n                type=\"text\"\n                value={name}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label className=\"text-light\">Email</label>\n              <input\n                className=\"form-control\"\n                onChange={handleChange(\"email\")}\n                type=\"email\"\n                value={email}\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label className=\"text-light\">Password</label>\n              <input\n                onChange={handleChange(\"password\")}\n                className=\"form-control\"\n                type=\"password\"\n                value={password}\n              />\n            </div>\n            <button onClick={onSubmit} className=\"btn btn-success btn-block\">\n              Submit\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  };\n\n  const successMessage = () => {\n    return (\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-sm-3 text-left\">\n          <div\n            className=\"alert alert-success\"\n            style={{ display: success ? \"\" : \"none\" }}\n          >\n            New account was created successfully. Please\n            <Link to=\"/signin\">Login Here</Link>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const errorMessage = () => {\n    return (\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-sm-3 text-left\">\n          <div\n            className=\"alert alert-danger\"\n            style={{ display: error ? \"\" : \"none\" }}\n          >\n            {error}\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <Base title=\"Sign up page\" description=\"A page for user to sign up!\">\n      {successMessage()}\n      {errorMessage()}\n      {signUpForm()}\n    </Base>\n  );\n};\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}